import { RsbuildDocBadge } from '@components/RsbuildDocBadge';

# resolve

Options for module resolution.

## resolve.aliasStrategy <RsbuildDocBadge path="/config/resolve/alias-strategy" text="resolve.aliasStrategy" />

Control the priority between the `resolve.alias` option and the `paths` option in `tsconfig.json`.

## resolve.alias <RsbuildDocBadge path="/config/resolve/alias" text="resolve.alias" />

Set the alias for the module path, which is used to simplify the import path or redirect the module reference, similar to the [resolve.alias](https://rspack.rs/config/resolve#resolvealias) config of Rspack.

For TypeScript projects, you only need to configure [compilerOptions.paths](https://www.typescriptlang.org/tsconfig/#paths) in the `tsconfig.json` file. Rstest will automatically recognize it, so there is no need to configure the `resolve.alias` option separately.

## resolve.dedupe <RsbuildDocBadge path="/config/resolve/dedupe" text="resolve.dedupe" />

Force Rstest to resolve the specified packages from project root, which is useful for deduplicating packages and reducing the bundle size.

## resolve.extensions <RsbuildDocBadge path="/config/resolve/extensions" text="resolve.extensions" />

Automatically resolve file extensions when importing modules. This means you can import files without explicitly writing their extensions.

## resolve.moduleNameMapper

- **Type:** `Record<string, string | string[]>`
- **Default:** `undefined`

A map from regular expressions to module names or to arrays of module names that allow to stub out resources with a single module. This is similar to Jest's [moduleNameMapper](https://jestjs.io/docs/configuration#modulenamemapper-objectstring-string--arraystring) configuration.

This is useful for:

- Mocking modules in tests
- Redirecting module paths
- Stubbing out static assets like images or styles

### Basic usage

```ts title="rstest.config.ts"
import { defineConfig } from '@rstest/core';

export default defineConfig({
  resolve: {
    moduleNameMapper: {
      // Map exact module name
      '^module-a$': '<rootDir>/mocks/module-a.ts',
      // Map with capture groups
      '^@utils/(.*)$': '<rootDir>/src/utils/$1',
      // Stub CSS imports
      '\\.(css|less|scss)$': 'identity-obj-proxy',
    },
  },
});
```

### Example: Path aliasing with capture groups

```ts title="rstest.config.ts"
import { defineConfig } from '@rstest/core';

export default defineConfig({
  resolve: {
    moduleNameMapper: {
      // @components/Button -> ./src/components/Button
      '^@components/(.*)$': '<rootDir>/src/components/$1',
    },
  },
});
```

:::tip
For simple path aliasing, consider using TypeScript's `paths` or [resolve.alias](#resolvealias) in `tsconfig.json` instead, which provides better performance and IDE support.
:::
