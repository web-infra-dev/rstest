---
overviewHeaders: []
---

# importActualMethods

- **类型：** `('importAttributes' | 'query')[]`
- **默认值：** `['importAttributes', 'query']`

控制 Rstest 在调用 `rs.importActual` 或标记 `import` 语句时，用于加载模块真实实现的语法形式。一般推荐保留 `'importAttributes'`，仅当运行时或打包工具无法解析该语法时再关闭它。

import { Tab, Tabs } from '@theme';

<Tabs defaultValue='rstest.config.ts'>
  <Tab label="rstest.config.ts">
```ts
import { defineConfig } from '@rstest/core';

export default defineConfig({
  importActualMethods: ['query'],
});
```
  </Tab>
</Tabs>

## 支持的方式

:::tip 推荐
在运行环境支持的情况下，请启用 `importAttributes`，以便在不改写模块标识符的情况下使用标准语法。
:::

### importAttributes

允许使用 ECMAScript 的 [import attributes](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import/with) 来标记真实导入。该方式不会修改模块说明符；仅当目标环境无法解析 `with { ... }` 语法时才需要关闭。

```ts
import axiosActual from 'axios' with { rstest: 'importActual' };
```

### query

允许在模块说明符后追加查询参数，让解析器在模块被 mock 时也能返回真实实现。这一方式更适合作为兼容性备选；如果你的工具链会移除或禁止模块查询参数，可以关闭该选项。

```ts
import axiosActual from 'axios?rstest=importActual';
```
